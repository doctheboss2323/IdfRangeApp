package com.example.idfrange;import android.content.Intent;import androidx.appcompat.app.AppCompatActivity;import android.os.Bundle;import android.text.TextUtils;import android.util.Log;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.Toast;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.FirebaseDatabase;import com.google.firebase.database.ValueEventListener;import static android.content.ContentValues.TAG;public class drillsActivity extends AppCompatActivity {    Button drillButton,continueButton;    EditText drillEditText;    String newDrill,clientName,rangeId;    FirebaseDatabase mDatabase= FirebaseDatabase.getInstance("https://idfrange-default-rtdb.europe-west1.firebasedatabase.app/");    DatabaseReference rangeDb=mDatabase.getReference();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_ranges);        //Initial work        drillButton=findViewById(R.id.registerdrill_button);        continueButton=findViewById(R.id.continuescores_button);        drillEditText=findViewById(R.id.newdrill_edittext);        Intent intent = getIntent();        clientName=intent.getStringExtra("clientName");        rangeId=intent.getStringExtra("rangeId");        drillButton.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                newDrill=drillEditText.getText().toString();                if(TextUtils.isEmpty(newDrill)){                    Toast.makeText(getApplicationContext(),"Type in new drill",Toast.LENGTH_SHORT).show();                    return;}                rangeDb.child(rangeId).child("Drill list").addListenerForSingleValueEvent(new ValueEventListener() {                    @Override                    public void onDataChange(DataSnapshot dataSnapshot) {                        int count= (int) dataSnapshot.getChildrenCount();                        count++;                        String scount=String.valueOf(count);                        rangeDb.child(rangeId).child("Drill list").child(newDrill).setValue(scount); ///// first adding to drilllist with count num and then actual drill                    }                    @Override                    public void onCancelled(DatabaseError error) {                    }                });                rangeDb.child(rangeId).child(newDrill).setValue(newDrill); ///// later add set value for drill explanation                Toast.makeText(getApplicationContext(),"Drill added",Toast.LENGTH_SHORT).show();            }        });        continueButton.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent intent =new Intent(drillsActivity.this, scoreActivity.class);                intent.putExtra("clientName",clientName);                intent.putExtra("rangeId",rangeId);                startActivity(intent);            }        });    }}